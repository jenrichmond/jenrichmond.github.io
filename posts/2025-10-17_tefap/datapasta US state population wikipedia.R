library(datapasta)

# paste state population from wikipedia State and Territory rankings table
# https://en.wikipedia.org/wiki/List_of_U.S._states_and_territories_by_population

wiki_pop <- data.frame(
  stringsAsFactors = FALSE,
       check.names = FALSE,
                state = c("California", "Texas",
                              "Florida","New York","Pennsylvania","Illinois","Ohio",
                              "Georgia","North Carolina","Michigan",
                              "New Jersey","Virginia","Washington","Arizona",
                              "Tennessee","Massachusetts","Indiana","Maryland",
                              "Missouri","Wisconsin","Colorado","Minnesota",
                              "South Carolina","Alabama","Louisiana","Kentucky",
                              "Oregon","Oklahoma","Connecticut","Utah",
                              "Nevada","Iowa","Puerto Rico","Arkansas","Kansas",
                              "Mississippi","New Mexico","Nebraska","Idaho",
                              "West Virginia","Hawaii","New Hampshire",
                              "Maine","Montana","Rhode Island","Delaware",
                              "South Dakota","North Dakota","Alaska",
                              "District of Columbia","Vermont","Wyoming"),
             census_pop_2024 = c(39431263, 31290831,
                              23372215,19867248,13078751,12710158,11883304,
                              11180878,11046024,10140459,9500851,8811195,7958180,
                              7582384,7227750,7136171,6924275,6263220,
                              6245466,5960975,5957493,5793151,5478831,5157699,
                              4597740,4588372,4272371,4095393,3675069,
                              3503613,3267467,3241488,3203295,3088354,2970606,
                              2943045,2130256,2005465,2001619,1769979,1446146,
                              1409032,1405012,1137233,1112308,1051917,
                              924669,796568,740133,702250,648493,587618),
             census_pop_2020 = c(39538223,29145505,
                              21538187,20201249,13002700,12812508,11799448,
                              10711908,10439388,10077331,9288994,8631393,7705281,
                              7151502,6910840,7029917,6785528,6177224,
                              6154913,5893718,5773714,5706494,5118425,5024279,
                              4657757,4505836,4237256,3959353,3605944,
                              3271616,3104614,3190369,3285874,3011524,2937880,
                              2961279,2117522,1961504,1839106,1793716,1455271,
                              1377529,1362359,1084225,1097379,989948,
                              886667,779094,733391,689545,643077,576851),
                 percent_change_2010_2020   = c("6.13%", "15.91%",
                              "14.56%","4.25%","2.36%","−0.14%","2.28%","10.57%",
                              "9.48%","1.96%","5.65%","7.88%","14.58%",
                              "11.88%","8.90%","7.37%","4.65%","6.99%","2.77%",
                              "3.64%","14.80%","7.59%","10.66%","5.12%",
                              "2.74%","3.84%","10.60%","5.54%","0.89%",
                              "18.37%","14.96%","4.73%","−11.81%","3.28%","2.97%",
                              "−0.20%","2.83%","7.40%","17.32%","−3.20%",
                              "6.98%","4.66%","2.56%","9.58%","4.26%",
                              "10.25%","8.90%","15.83%","3.26%","14.60%","2.77%",
                              "2.35%"),
  abs_change_2010_2020  = c("2,284,267", "3,999,944",
                              "2,736,877","823,147","300,321","−18,124",
                              "262,944","1,024,255","903,905","193,691","497,100",
                              "630,369","980,741","759,485","564,735",
                              "482,288","301,726","403,672","165,986","206,732",
                              "744,518","402,569","493,061","244,543",
                              "124,385","166,469","406,182","208,002","31,847",
                              "507,731","404,063","144,014","−439,915","95,606",
                              "84,762","−6,018","58,343","135,163",
                              "271,524","−59,278","94,970","61,059","33,998",
                              "94,810","44,812","92,014","72,487","106,503",
                              "23,160","87,822","17,336","13,225"),
                     house_seats = c("52", "38","28","26",
                              "17","17","15","14","14","13","12","11",
                              "10","9","9","9","9","8","8","8","8","8",
                              "7","7","6","6","6","5","5","4","4","4",
                              "1*","4","4","4","3","3","2","2","2","2",
                              "2","2","2","1","1","1","1","1*","1","1"),
                 percent_seats = c("11.95", "8.74%","6.44%",
                              "5.98%","3.91%","3.91%","3.45%","3.22%",
                              "3.22%","2.99%","2.76%","2.53%","2.30%","2.07%",
                              "2.07%","2.07%","2.07%","1.84%","1.84%",
                              "1.84%","1.84%","1.84%","1.61%","1.61%","1.38%",
                              "1.38%","1.38%","1.15%","1.15%","0.92%",
                              "0.92%","0.92%","—","0.92%","0.92%","0.92%",
                              "0.69%","0.69%","0.46%","0.46%","0.46%","0.46%",
                              "0.46%","0.46%","0.46%","0.23%","0.23%","0.23%",
                              "0.23%","—","0.23%","0.23%"),
  pop_per_elec_vote_2020 = c("732,189", "728,638",
                              "717,940","721,473","684,353","674,343","694,085",
                              "669,494","652,462","671,822","663,500",
                              "663,953","642,107","650,137","628,258","639,083",
                              "616,866","617,722","615,491","589,372",
                              "577,371","570,649","568,714","558,253","582,220",
                              "563,230","529,657","565,622","515,135","545,269",
                              "517,436","531,728","—","501,921","489,647",
                              "493,547","423,504","392,301","459,777",
                              "448,429","363,818","344,382","340,590","271,056",
                              "274,345","329,983","295,556","259,698",
                              "244,464","229,848","214,359","192,284"),
  pop_per_seat_2020 = c( "760,350", "766,987",
                              "769,221","776,971","764,865","753,677","786,630",
                              "765,136","745,671","775,179","774,083",
                              "784,672","770,528","794,611","767,871","781,102",
                              "753,948","772,153","769,364","736,715",
                              "721,714","713,312","731,204","717,754","776,293",
                              "750,973","706,209","791,871","721,189","817,904",
                              "776,154","797,592","—","752,881","734,470",
                              "740,320","705,841","653,835","919,553",
                              "896,858","727,636","688,765","681,180","542,113",
                              "548,690","989,948","886,667","779,094",
                              "733,391","—","643,077","576,851"),
               percent_US_2020  = c("11.800%", "8.698%",
                              "6.428%","6.029%","3.881%","3.824%","3.521%",
                              "3.197%","3.116%","3.008%","2.772%","2.576%",
                              "2.300%","2.134%","2.062%","2.098%","2.025%",
                              "1.844%","1.837%","1.759%","1.723%","1.703%",
                              "1.528%","1.499%","1.390%","1.345%","1.265%",
                              "1.182%","1.076%","0.976%","0.927%","0.952%",
                              "0.981%","0.899%","0.877%","0.884%","0.632%",
                              "0.585%","0.549%","0.535%","0.434%","0.411%",
                              "0.407%","0.324%","0.328%","0.295%","0.265%",
                              "0.233%","0.219%","0.206%","0.192%","0.172%"),
                percent_EC_2020 = c("10.04%", "7.43%","5.58%",
                              "5.20%","3.53%","3.53%","3.16%","2.97%",
                              "2.97%","2.79%","2.60%","2.42%","2.23%","2.04%",
                              "2.04%","2.04%","2.04%","1.86%","1.86%",
                              "1.86%","1.86%","1.86%","1.67%","1.67%","1.49%",
                              "1.49%","1.49%","1.30%","1.30%","1.12%",
                              "1.12%","1.12%","—","1.12%","1.12%","1.12%",
                              "0.93%","0.93%","0.74%","0.74%","0.74%","0.74%",
                              "0.74%","0.74%","0.74%","0.56%","0.56%","0.56%",
                              "0.56%","0.56%","0.56%","0.56%")
       )


# select just state population

pop <- wiki_pop %>%
  select(state, pop = census_pop_2024)

# get state abbreviations
# from https://www.scouting.org/resources/los/states/

names <- data.frame(
  stringsAsFactors = FALSE,
                             state = c("Alabama","Alaska","Arizona",
                                       "Arkansas","California","Canal Zone",
                                       "Colorado","Connecticut","Delaware",
                                       "District of Columbia","Florida","Georgia","Guam",
                                       "Hawaii","Idaho","Illinois",
                                       "Indiana","Iowa","Kansas","Kentucky",
                                       "Louisiana","Maine","Maryland","Massachusetts",
                                       "Michigan","Minnesota","Mississippi",
                                       "Missouri","Montana","Nebraska",
                                       "Nevada","New Hampshire","New Jersey",
                                       "New Mexico","New York","North Carolina",
                                       "North Dakota","Ohio","Oklahoma",
                                       "Oregon","Pennsylvania","Puerto Rico",
                                       "Rhode Island","South Carolina","South Dakota",
                                       "Tennessee","Texas","Utah","Vermont",
                                       "Virgin Islands","Virginia",
                                       "Washington","West Virginia","Wisconsin",
                                       "Wyoming"),
                          standard = c("Ala.","Alaska","Ariz.","Ark.",
                                       "Calif.","C.Z.","Colo.","Conn.","Del.",
                                       "D.C.","Fla.","Ga.","Guam","Hawaii",
                                       "Idaho","Ill.","Ind.","Iowa","Kan.",
                                       "Ky.","La.","Maine","Md.","Mass.",
                                       "Mich.","Minn.","Miss.","Mo.","Mont.",
                                       "Neb.","Nev.","N.H.","N.J.","N.M.",
                                       "N.Y.","N.C.","N.D.","Ohio","Okla.",
                                       "Ore.","Pa.","P.R.","R.I.","S.C.",
                                       "S.D.","Tenn.","Texas","Utah","Vt.",
                                       "V.I.","Va.","Wash.","W.Va.","Wis.",
                                       "Wyo."),
                            postal = c("AL","AK","AZ","AR","CA","CZ","CO",
                                       "CT","DE","DC","FL","GA","GU",
                                       "HI","ID","IL","IN","IA","KS","KY",
                                       "LA","ME","MD","MA","MI","MN","MS",
                                       "MO","MT","NE","NV","NH","NJ","NM",
                                       "NY","NC","ND","OH","OK","OR","PA",
                                       "PR","RI","SC","SD","TN","TX","UT",
                                       "VT","VI","VA","WA","WV","WI",
                                       "WY")
                ) %>%
  select(state, postal)

# join pop with state postal values

state_abbrev_pop <- left_join(pop, names, by = "state") %>%
  select(state, postal, pop)

rm(wiki_pop)
rm(pop)
rm(names)

