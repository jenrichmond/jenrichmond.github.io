{
  "hash": "9a3cd9491c1fd13bf3208bc8409389cf",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"day 19_smooth\"\nauthor:\n  - name: Jen Richmond\n    url: https://jenrichmond.github.io/\ndate: 2025-04-19\nformat: html\neditor: source\nimage: featured.png\nexecute:\n  freeze: true\n---\n\n\n\n\n[Egg prices in the USA](https://www.nbcnews.com/data-graphics/dozen-egg-prices-drop-charts-data-rcna200232) are high right now, mostly due to supply issues caused by bird flu outbreaks. I was interested in how prices compare to egg prices in NZ, which have been high since [battery farms bans went into effect](https://www.consumer.org.nz/articles/how-did-egg-prices-double-in-a-year?gad_source=1&gclid=CjwKCAjwk43ABhBIEiwAvvMEB5SiHsth08IkoYuGeXo6df4B5r6xlNonBhDxZqLCd3tOpbE9P0JmFBoCxCoQAvD_BwE) in 2022. \n\nThe data for these plots came from StatsNZ and the US Bureau of Labor Statistics and required a bit of wrangling to make the formats consistent. You can find the code that I wrote to read in and clean the egg data in this [.R script](https://github.com/jenrichmond/jenrichmond.github.io/blob/main/charts/2025-04-19_smooth/get%20egg%20data.R) \n\n## read data/fix dates\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(here)\n\neggs <- read_csv(here(\"charts\", \"2025-04-19_smooth\", \"eggsNZUSA.csv\")) \n\n\neggs <- eggs %>%\n    mutate(month_year = paste0(month, \"_\", year)) %>%\n  mutate(date = lubridate::my(month_year))\n\nglimpse(eggs)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 253\nColumns: 6\n$ year       <dbl> 2015, 2015, 2015, 2015, 2015, 2015, 2015, 2015, 2015, 2015,…\n$ month      <chr> \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Se…\n$ price      <dbl> 3.78, 3.79, 3.64, 3.71, 3.87, 3.83, 3.81, 3.77, 3.74, 3.76,…\n$ currency   <chr> \"NZD\", \"NZD\", \"NZD\", \"NZD\", \"NZD\", \"NZD\", \"NZD\", \"NZD\", \"NZ…\n$ month_year <chr> \"Jan_2015\", \"Feb_2015\", \"Mar_2015\", \"Apr_2015\", \"May_2015\",…\n$ date       <date> 2015-01-01, 2015-02-01, 2015-03-01, 2015-04-01, 2015-05-01…\n```\n\n\n:::\n:::\n\n\n\n\n# plot\n\nThe Quarto panel tabset is a nice way of comparing different plot options here. I think the smooth option looks better with slightly transparent points. \n\n\n::: panel-tabset\n\n### point + line\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\neggs %>%\n  ggplot(aes(x = date, y = price, colour = currency)) +\n  geom_point() +\n  geom_line() +\n  scale_colour_brewer(palette = \"Dark2\", name = \"Country\", labels = c(\"NZ\", \"USA\")) +\n  theme_minimal() +\n  labs(y = \"Price per dozen ($)\", x = \"Year\", \n       title = \"Egg prices (per dozen) over time\", \n       caption = \"NZ Data from StatsNZ; \\nUS Data from Bureau of Labor Statistics\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n\n\n### point + smooth\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\neggs %>%\n  ggplot(aes(x = date, y = price, colour = currency)) +\n  geom_point(alpha = 0.5) +\n  geom_smooth(se = FALSE, na.rm = TRUE) +\n  scale_colour_brewer(palette = \"Dark2\", name = \"Country\", labels = c(\"NZ\", \"USA\")) +\n  theme_minimal() +\n  labs(y = \"Price per dozen ($)\", x = \"Year\", \n       title = \"Egg prices (per dozen) over time\", \n       caption = \"NZ Data from StatsNZ; \\nUS Data from Bureau of Labor Statistics\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n\n:::\n\n\n\n\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}