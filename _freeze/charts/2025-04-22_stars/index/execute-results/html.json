{
  "hash": "7f40c687b370571402c2f342bef12ebf",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"day 22 stars\"\nauthor:\n  - name: Jen Richmond\n    url: https://jenrichmond.github.io/\ndate: 2025-04-22\nformat: html\neditor: source\nimage: featured.png\nexecute:\n  freeze: true\n\n---\n\n\n\n\n\nDay 22 and the prompt is stars. Here I am looking at the age differences between love interests in Hollywood movies. Data found on Kaggle and downloaded from [https://hollywoodagegap.com](https://hollywoodagegap.com). \n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(here)\nlibrary(janitor)\nlibrary(ggrain)\nlibrary(ggeasy)\nlibrary(patchwork)\n\nage_diff <- read_csv(here(\"charts\", \"2025-04-22_stars\", \"hollywood age.csv\")) %>%\n  clean_names() %>%\n  select(movie_name, release_year, age_difference)\n\n\nglimpse(age_diff)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 1,203\nColumns: 3\n$ movie_name     <chr> \"Harold and Maude\", \"Venus\", \"The Quiet American\", \"Sol…\n$ release_year   <dbl> 1971, 2006, 2002, 2009, 1998, 2010, 1992, 2016, 2009, 1…\n$ age_difference <dbl> 52, 50, 49, 45, 45, 43, 42, 41, 40, 39, 38, 38, 36, 36,…\n```\n\n\n:::\n:::\n\n\n\n# plot\n\nThe increase in the number of movies made across this period makes any change in age difference over time difficult to see. Maybe creating a new variable that groups movies into decade will help. \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nage_diff %>%\n  ggplot(aes(x = release_year, y = age_difference)) +\n  geom_jitter() \n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n\n\nHere I am making a new decade column using `case_when()` . \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nage_diff_decade <- age_diff %>%\n  mutate(decade = case_when(release_year < 1940 ~ \"1930s\", \n                            release_year >= 1940 & release_year < 1950 ~ \"1940s\", \n                            release_year >= 1950 & release_year < 1960 ~ \"1950s\", \n                            release_year >= 1960 & release_year < 1970 ~ \"1960s\", \n                            release_year >= 1970 & release_year < 1980 ~ \"1970s\", \n                            release_year >= 1980 & release_year < 1990 ~ \"1980s\", \n                            release_year >= 1990 & release_year < 2000 ~ \"1990s\", \n                            release_year >= 2000 & release_year < 2010 ~ \"2000s\", \n                            release_year >= 2010 & release_year < 2020 ~ \"2010s\", \n                            release_year >= 2020 & release_year < 2030 ~ \"2020s\"\n                            ))\n```\n:::\n\n\n\n\nAnd plotting by decade instead of release year. \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nage_diff_decade %>%\n  ggplot(aes(x = decade, y = age_difference)) +\n  geom_jitter(width = 0.1, alpha = 0.5) \n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n\n\nI haven't tried a raincloud plot in a while- this might be a good use case. Raincloud plot combine raw points, box plot, and half violin to get a good idea of the distribution of the data. \n\nQuick google and found the [`ggrain` package](https://github.com/njudd/ggrain). \n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\np1 <- age_diff_decade %>%\n  filter(release_year < 1980) %>%\n  ggplot(aes(x = decade, y = age_difference, fill = decade)) +\n geom_rain(alpha = .5, \n            boxplot.args.pos = list(\n              width = .1, position = position_nudge(x = 0.2)),\n            violin.args.pos = list(\n              side = \"r\",\n              width = 0.7, position = position_nudge(x = 0.3))) +\n  theme_minimal() +\n  easy_remove_legend() +\n  scale_y_continuous(expand = c(0,0), limits = c(-.2, 55)) +\n  labs(y = \"Age difference\", x = \"Decade\", \n       subtitle = \"1930s - 1970s\")\n\np1\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n\n```{.r .cell-code  code-fold=\"true\"}\np2 <- age_diff_decade %>%\n  filter(release_year >= 1980) %>%\n  ggplot(aes(x = decade, y = age_difference, fill = decade)) +\n geom_rain(alpha = .5, \n            boxplot.args.pos = list(\n              width = .1, position = position_nudge(x = 0.2)),\n            violin.args.pos = list(\n              side = \"r\",\n              width = 0.7, position = position_nudge(x = 0.3))) +\n  theme_minimal() +\n  easy_remove_legend() +\n    scale_y_continuous(expand = c(0,0), limits = c(-.2, 55)) +\n  labs(y = \"Age difference\", x = \"Decade\",  subtitle = \"1980s - current\")\n\np2\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-2.png){width=672}\n:::\n:::\n\n\n\n\nHere I am using the `patchwork` package to combine the plots\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\np1 + \n  labs(title = \"The age difference in years between movie love interests\") +\np2 +\n  labs(caption = \"Data from https://hollywoodagegap.com/\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}