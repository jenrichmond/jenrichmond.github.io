{
  "hash": "f8cc2cfc7376a13fbfc7ca69f656e3bd",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"historydata: judges\"\nsubtitle: \"tidy tuesday week 23\"\ndate: today\nformat: html\nauthor: Jen Richmond\nimage: featured.png\ncode-fold: true\n---\n\nThe Tidy Tuesday data today comes from the [`historydata` R package](https://github.com/ropensci/historydata). The today is about US judges. I am particularly interested in the US Supreme Court and how long justices have remained in the role across history. \n\n# load packages\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidytuesdayR)\nlibrary(janitor)\nlibrary(ggeasy)\nlibrary(ggtext)\n\n# adjust year/week values here\nyear = 2025\nweek = 23\n```\n:::\n\n\n# get the data\n\nReading the data and dealing with some date formatting. \n\n::: {.cell}\n\n```{.r .cell-code}\ntt <- tt_load(year, week)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n---- Compiling #TidyTuesday Information for 2025-06-10 ----\n--- There are 2 files available ---\n\n\n── Downloading files ───────────────────────────────────────────────────────────\n\n  1 of 2: \"judges_appointments.csv\"\n  2 of 2: \"judges_people.csv\"\n```\n\n\n:::\n\n```{.r .cell-code}\nappt <- tt[[1]]\n\nappt <- appt  %>%\n  mutate(across(ends_with(\"_date\"), ~ mdy(.))) %>%\n  mutate(retirement_from_active_service =  mdy(retirement_from_active_service))\n\npeople <- tt[[2]]\n\npeople <- people %>%\n  mutate(age_at_death = death_date - birth_date)\n```\n:::\n\n\n\n# wrangling\n\nI start by joining the people and appt dataframes and for ease of use, create some new variables that pull year values out of dates. I filter for just the supreme court and select relevant columns, before sorting out some duplicate name issues. \n\n::: {.callout-note}\n\nDid you know that there were two justices named John Harlan? One born in 1833 and his grandson born in 1899.\n\n:::\n\nI create a new variable that codes dates as pre vs post 1900 and a couple that allow me to set the colour of the dot by a different coloured point depending on whether the justice retired or their term ended (because they died). \n\n\n::: {.cell}\n\n```{.r .cell-code}\njoined <- left_join(people, appt, by = \"judge_id\") %>%\n  arrange(judge_id) %>%\n  mutate(year_confirmed = year(senate_confirmation_date), \n         year_retired = year(retirement_from_active_service), \n         year_terminated = year(termination_date))\n\nussc <- joined %>%\n  filter(court_type == \"USSC\") %>%\n  filter(!is.na(year_confirmed)) %>%\n  select(1:6, 26:31) %>%\n  mutate(length_of_term = year_terminated - year_confirmed) %>%\n  mutate(last_first = paste0(name_last, \", \" , name_first)) %>%\n  mutate(last_first = case_when(name_last == \"Harlan\" & birth_date == \"1833\" ~ \"I Harlan, John\", \n                                name_last == \"Harlan\" & birth_date == \"1899\" ~ \"II Harlan, John\", \n                                TRUE ~ last_first)) %>%\n    distinct(last_first, .keep_all = TRUE) %>%\n  mutate(period = case_when(year_confirmed < 1900 ~ \"pre1900\", \n                             year_confirmed >= 1900 ~ \"post1900\", \n                            )) %>%\n  mutate(endpoint = case_when(!is.na(year_terminated) ~ year_terminated, \n                              !is.na(year_retired) ~ year_retired,  \n                               TRUE ~ NA_real_))  %>%                \n  mutate(status = case_when(!is.na(year_terminated) ~ \"Term end\",\n                            !is.na(year_retired) ~ \"Retired\", \n                       TRUE ~ \"Current\"))\n\n# order names by year confirmed\nussc$last_first <- fct_reorder(ussc$last_first, ussc$year_confirmed) \n\n# select just plot variables\nussc_plot <- ussc %>%\n  select(period, last_first, year_confirmed, year_retired, year_terminated, endpoint, status)\n```\n:::\n\n\n\n# plot\n\nThis plot looks ok. It took me ages to work out that the easiest way to make a taller plot that gives each justice more vertical room is to set the r chunk options {r fig.width=6, fig.height=12, fig.dpi=300}. \n\nUnfortunately this data isn't up to date for the most recent justices. Scalia and Ginsburg have died, Kennedy and Breyer have retired and four new justices have joined the court. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nussc_plot %>%\n  filter(period == \"post1900\") %>%\nggplot() +\n  geom_point(aes(x = last_first, y = year_confirmed), \n             colour = \"red\", size = 1.5) +\n  geom_point(aes(x = last_first, y = endpoint, colour = status), \n             size = 1.5, na.rm = TRUE) +\n  geom_segment(aes(x = last_first, \n                   xend= last_first, \n                   y = year_confirmed, yend = endpoint), \n               colour = \"grey\", na.rm = TRUE) +\n coord_flip() +\n   scale_y_continuous(limits = c(1900, 2020), breaks = seq(1900,2020,30)) +\n  theme_minimal() +\n  labs(y = \"Year\", x = \"Justice\", \n       title = \"Length of Supreme Court Justice Terms\", \n       subtitle = \"Since 1900 <span style='color:red'>● Confirmed</span> \n                    <span style='color:purple'>● Retired</span>\n                  <span style='color:blue'>● Term end</span>\") +\n    theme(plot.title.position = \"plot\", \n        plot.subtitle = element_markdown(),\n        panel.grid.major.y = element_line(linewidth = 0.3, color = \"grey90\"),\n        panel.grid.minor.y = element_line(linewidth = 0.1, color = \"grey95\"),\n        axis.text.y = element_text(size = 10),\n        axis.text.x = element_text(size = 10), \n          plot.title = element_text(size = 12)) +\n  scale_colour_manual(values = c(\"Term end\" = \"blue\", \n                                 \"Retired\" = \"purple\")) +\n  easy_remove_legend()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-1-1.png){width=1800}\n:::\n:::\n\n\n# adding new data for recent appointments\n\nThis chunk creates a new dataframe for the four most recent justices and updates values for those that have died and retired. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# get just those appointed since 1980\n\nussc80 <- ussc_plot %>%\n  filter(year_confirmed > 1980) %>%\n  arrange(year_confirmed)\n\n# make new df with most recent 4 appointees\n\nnew_justice <- tibble(\n  period = c(\"post1900\", \"post1900\",\"post1900\",\"post1900\"),\n  last_first = c(\"Gorsuch, Neil\", \"Kavanaugh, Brett\", \"Coney Barrett, Amy\", \"Brown Jackson, Ketanji\"),\n  year_confirmed = c(2017, 2018, 2020, 2022),\n  year_retired = c(NA, NA, NA, NA), \n  year_terminated = c(NA, NA, NA, NA),\n  endpoint = c(NA, NA, NA, NA),\n  status = c(\"Current\", \"Current\",\"Current\",\"Current\")\n)\n\n# join since 1980 and new justices, correcting values for those no longer serving\n\nussc_recent <- rbind(ussc80, new_justice) %>%\n  mutate(\n    year_retired = replace(year_retired, last_first == \"Kennedy, Anthony\", 2018), \n    year_retired = replace(year_retired, last_first == \"Breyer, Stephen\", 2022), \n    year_terminated = replace(year_terminated, last_first == \"Scalia, Antonin\", 2016),\n    year_terminated = replace(year_terminated, last_first == \"Ginsburg, Ruth\", 2020)) %>%\n  mutate(endpoint = case_when(!is.na(year_terminated) ~ year_terminated, \n                              !is.na(year_retired) ~ year_retired,  \n                               TRUE ~ NA_real_))  %>%                \nmutate(status = case_when(!is.na(year_terminated) ~ \"Term end\",\n                            !is.na(year_retired) ~ \"Retired\", \n                       TRUE ~ \"Current\"))\n\n# bind updated ussc data with old df, keeping only distinct names.\n\nupdated_ussc <- rbind(ussc_recent, ussc_plot) %>%\n  distinct(last_first, .keep_all = TRUE) %>%\n  mutate(term_length = case_when(year_terminated - year_confirmed > 30 ~ \"long\", \n                                 year_terminated - year_confirmed <= 30 ~ \"short\", \n                                 ))\n```\n:::\n\n\n\n# updated plot\n\n\n::: {.cell}\n\n```{.r .cell-code}\nupdated_ussc %>%\n  filter(period == \"post1900\") %>%\nggplot() +\n  geom_point(aes(x = last_first, y = year_confirmed), \n             colour = \"red\", size = 1.5) +\n  geom_point(aes(x = last_first, y = endpoint, colour = status), \n             size = 1.5, na.rm = TRUE) +\n  geom_segment(aes(x = last_first, \n                   xend= last_first, \n                   y = year_confirmed, yend = endpoint), colour = \"grey\", \n               na.rm = TRUE) +\n coord_flip() +\n   scale_y_continuous(limits = c(1900, 2022), breaks = seq(1900,2020,30), \n                      sec.axis= dup_axis()) +\n  theme_minimal() +\n  labs(y = \"Year\", x = \"Justice\", \n       title = \"Length of Supreme Court Justice Terms\", \n       subtitle = \"Since 1900 <span style='color:red'>● Confirmed</span> \n                    <span style='color:purple'>● Retired</span>\n                  <span style='color:blue'>● Term end</span>\") +\n    theme(plot.title.position = \"plot\", \n        plot.subtitle = element_markdown(),\n        panel.grid.major.y = element_line(linewidth = 0.3, color = \"grey90\"),\n        panel.grid.minor.y = element_line(linewidth = 0.1, color = \"grey95\"),\n        axis.text.y = element_text(size = 10),\n        axis.text.x = element_text(size = 10), \n          plot.title = element_text(size = 12)) +\n  scale_colour_manual(values = c(\"Term end\" = \"blue\", \n                                 \"Retired\" = \"purple\")) +\n  easy_remove_legend() +\n  easy_remove_x_axis(what = c(\"title\")) \n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=1800}\n:::\n:::\n\n\n\n\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}