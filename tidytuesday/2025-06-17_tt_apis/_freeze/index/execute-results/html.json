{
  "hash": "6c06408ddd3c0b4b688cdc2ef7758ec3",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"apis\"\nsubtitle: \"tidy tuesday week 25\"\ndate: 2025-06-20\nformat: html\nauthor: Jen Richmond\nimage: featured.png\n\n---\n\nThe Tidy Tuesday data this week is about APIs. Jon Harmon is writing a book about using API (aka application programming interface) to access data and pulled information from apisguru.com into this dataset. \n\nI was interested in the API categories. Most of the API names have 2 categories associated with them; which API categories tend to go together?\n\n# load packages\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidytuesdayR)\nlibrary(janitor)\nlibrary(ggeasy)\nlibrary(gt)\n\n# adjust year/week values here\nyear = 2025\nweek = 24\n```\n:::\n\n\n# get the data\n\n\n::: {.cell}\n\n```{.r .cell-code}\n\ntt <- tt_load(year, week)\n\ncat <- tt[[1]]\n\nrm(tt)\n\n```\n:::\n\n\n\n# wrangling\n\nFirst I was interested in the unique values in the category variable. Not sure what is going on with those 1 letter categories that spell security?? \n\n\n::: {.cell}\n\n```{.r .cell-code}\n\ncat %>%\n  distinct(apisguru_category) %>%\n  gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"zpdbmqtxfu\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#zpdbmqtxfu table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#zpdbmqtxfu thead, #zpdbmqtxfu tbody, #zpdbmqtxfu tfoot, #zpdbmqtxfu tr, #zpdbmqtxfu td, #zpdbmqtxfu th {\n  border-style: none;\n}\n\n#zpdbmqtxfu p {\n  margin: 0;\n  padding: 0;\n}\n\n#zpdbmqtxfu .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#zpdbmqtxfu .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#zpdbmqtxfu .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#zpdbmqtxfu .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#zpdbmqtxfu .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#zpdbmqtxfu .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zpdbmqtxfu .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#zpdbmqtxfu .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#zpdbmqtxfu .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#zpdbmqtxfu .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#zpdbmqtxfu .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#zpdbmqtxfu .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#zpdbmqtxfu .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#zpdbmqtxfu .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#zpdbmqtxfu .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#zpdbmqtxfu .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#zpdbmqtxfu .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#zpdbmqtxfu .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#zpdbmqtxfu .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zpdbmqtxfu .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#zpdbmqtxfu .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#zpdbmqtxfu .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#zpdbmqtxfu .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zpdbmqtxfu .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#zpdbmqtxfu .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#zpdbmqtxfu .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zpdbmqtxfu .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zpdbmqtxfu .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#zpdbmqtxfu .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zpdbmqtxfu .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#zpdbmqtxfu .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zpdbmqtxfu .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#zpdbmqtxfu .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zpdbmqtxfu .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#zpdbmqtxfu .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zpdbmqtxfu .gt_left {\n  text-align: left;\n}\n\n#zpdbmqtxfu .gt_center {\n  text-align: center;\n}\n\n#zpdbmqtxfu .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#zpdbmqtxfu .gt_font_normal {\n  font-weight: normal;\n}\n\n#zpdbmqtxfu .gt_font_bold {\n  font-weight: bold;\n}\n\n#zpdbmqtxfu .gt_font_italic {\n  font-style: italic;\n}\n\n#zpdbmqtxfu .gt_super {\n  font-size: 65%;\n}\n\n#zpdbmqtxfu .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#zpdbmqtxfu .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#zpdbmqtxfu .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#zpdbmqtxfu .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#zpdbmqtxfu .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#zpdbmqtxfu .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#zpdbmqtxfu .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#zpdbmqtxfu .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#zpdbmqtxfu div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"apisguru_category\">apisguru_category</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">financial</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">security</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">cloud</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">location</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">iot</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">marketing</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">payment</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">ecommerce</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">machine_learning</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">developer_tools</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">transport</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">enterprise</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">open_data</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">messaging</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">time_management</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">project_management</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">media</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">tools</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">search</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">collaboration</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">social</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">entertainment</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">analytics</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">telecom</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">text</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">education</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">email</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">backend</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">hosting</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">customer_relation</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">storage</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">monitoring</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">forms</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">support</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">s</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">e</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">c</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">u</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">r</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">i</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">t</td></tr>\n    <tr><td headers=\"apisguru_category\" class=\"gt_row gt_left\">y</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\nIn the category dataframe, each category associated with an API is represented in a separate row. I am interested in how many catgories each API name is associated with so us the `get_dupes()` function from janitor to look for duplicate name values. \n\nThere is one API that has 8! categories; threatjammer.com is the API that made up its own categories that spell security... why? who knows??\n\nUsing `tabyl()` to count how many duplicate names there are shows us that most API names are associated with 2 categories. I am interested in which categories tend to co-occur. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n\ndups <- cat %>%\n  get_dupes(name) \n\ndups %>%\n  filter(dupe_count == 8) %>%\n  gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"bswqlygwxr\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#bswqlygwxr table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#bswqlygwxr thead, #bswqlygwxr tbody, #bswqlygwxr tfoot, #bswqlygwxr tr, #bswqlygwxr td, #bswqlygwxr th {\n  border-style: none;\n}\n\n#bswqlygwxr p {\n  margin: 0;\n  padding: 0;\n}\n\n#bswqlygwxr .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#bswqlygwxr .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#bswqlygwxr .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#bswqlygwxr .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#bswqlygwxr .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#bswqlygwxr .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bswqlygwxr .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#bswqlygwxr .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#bswqlygwxr .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#bswqlygwxr .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#bswqlygwxr .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#bswqlygwxr .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#bswqlygwxr .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#bswqlygwxr .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#bswqlygwxr .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#bswqlygwxr .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#bswqlygwxr .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#bswqlygwxr .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#bswqlygwxr .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bswqlygwxr .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#bswqlygwxr .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#bswqlygwxr .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#bswqlygwxr .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bswqlygwxr .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#bswqlygwxr .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#bswqlygwxr .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bswqlygwxr .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bswqlygwxr .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#bswqlygwxr .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bswqlygwxr .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#bswqlygwxr .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bswqlygwxr .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#bswqlygwxr .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bswqlygwxr .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#bswqlygwxr .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bswqlygwxr .gt_left {\n  text-align: left;\n}\n\n#bswqlygwxr .gt_center {\n  text-align: center;\n}\n\n#bswqlygwxr .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#bswqlygwxr .gt_font_normal {\n  font-weight: normal;\n}\n\n#bswqlygwxr .gt_font_bold {\n  font-weight: bold;\n}\n\n#bswqlygwxr .gt_font_italic {\n  font-style: italic;\n}\n\n#bswqlygwxr .gt_super {\n  font-size: 65%;\n}\n\n#bswqlygwxr .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#bswqlygwxr .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#bswqlygwxr .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#bswqlygwxr .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#bswqlygwxr .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#bswqlygwxr .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#bswqlygwxr .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#bswqlygwxr .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#bswqlygwxr div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"name\">name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"dupe_count\">dupe_count</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"apisguru_category\">apisguru_category</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"name\" class=\"gt_row gt_left\">threatjammer.com</td>\n<td headers=\"dupe_count\" class=\"gt_row gt_right\">8</td>\n<td headers=\"apisguru_category\" class=\"gt_row gt_left\">s</td></tr>\n    <tr><td headers=\"name\" class=\"gt_row gt_left\">threatjammer.com</td>\n<td headers=\"dupe_count\" class=\"gt_row gt_right\">8</td>\n<td headers=\"apisguru_category\" class=\"gt_row gt_left\">e</td></tr>\n    <tr><td headers=\"name\" class=\"gt_row gt_left\">threatjammer.com</td>\n<td headers=\"dupe_count\" class=\"gt_row gt_right\">8</td>\n<td headers=\"apisguru_category\" class=\"gt_row gt_left\">c</td></tr>\n    <tr><td headers=\"name\" class=\"gt_row gt_left\">threatjammer.com</td>\n<td headers=\"dupe_count\" class=\"gt_row gt_right\">8</td>\n<td headers=\"apisguru_category\" class=\"gt_row gt_left\">u</td></tr>\n    <tr><td headers=\"name\" class=\"gt_row gt_left\">threatjammer.com</td>\n<td headers=\"dupe_count\" class=\"gt_row gt_right\">8</td>\n<td headers=\"apisguru_category\" class=\"gt_row gt_left\">r</td></tr>\n    <tr><td headers=\"name\" class=\"gt_row gt_left\">threatjammer.com</td>\n<td headers=\"dupe_count\" class=\"gt_row gt_right\">8</td>\n<td headers=\"apisguru_category\" class=\"gt_row gt_left\">i</td></tr>\n    <tr><td headers=\"name\" class=\"gt_row gt_left\">threatjammer.com</td>\n<td headers=\"dupe_count\" class=\"gt_row gt_right\">8</td>\n<td headers=\"apisguru_category\" class=\"gt_row gt_left\">t</td></tr>\n    <tr><td headers=\"name\" class=\"gt_row gt_left\">threatjammer.com</td>\n<td headers=\"dupe_count\" class=\"gt_row gt_right\">8</td>\n<td headers=\"apisguru_category\" class=\"gt_row gt_left\">y</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n\n```{.r .cell-code}\n\ndups %>%\n  tabyl(dupe_count)\n#>  dupe_count   n     percent\n#>           2 834 0.960829493\n#>           3  21 0.024193548\n#>           5   5 0.005760369\n#>           8   8 0.009216590\n```\n:::\n\n\nHere I am filtering for just those APIs that are associated with 2 categories and grouping by name before making a new column that captures the category number to make the next pivot step easier. \n\nOnce the categories are wide, I can use tabyl to count the instances of co-occurence, then use pivot_longer to get the counts back into a format that ggplot will like. I also create a variable that filters out instances where category 1 and 2 are the same and adds a categorical variable to use in  colouring my heat map. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# filter for 2 categories, add category count variable\ndups2 <- dups %>%\n  filter(dupe_count == 2) %>%\n  select(name, category = apisguru_category) %>%\n  group_by(name) %>%\n  mutate(category_num = paste0(\"category\", row_number())) \n\n# make category count wide\ndups2_wide <- dups2 %>%\n  pivot_wider(names_from = category_num, \n              values_from = category)\n\n# count instances of cooccurence\n\nco <- dups2_wide %>%\n  tabyl(category1, category2)\n\n# make counts long again \nco_long <- co %>%\n  pivot_longer(names_to = \"category2\", values_to = \"count\", cloud:tools) %>%\n  arrange(-count) %>%\n  mutate(match = case_when(category1 == category2 ~ \"TRUE\",                            category1 != category2 ~ \"FALSE\")) %>%\n  filter(match == FALSE) %>%\n  mutate(freq = case_when(count > 100 ~ \"more than 100\", \n                          count > 10 ~ \"more than 10\", \n                          count > 0 ~ \"more than 0\", \n                          count == 0 ~ \"none\"))\n\n```\n:::\n\n\n# plot\n\nI went back and forth re whether to plot continuous count values or categorial frequency values. I am not sure either is particularly meaningful, but I like the look of the frequency plot better. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nco_long$freq <- fct_relevel(co_long$freq, c(\"none\", \"more than 0\", \"more than 10\", \"more than 100\"))\n\nlevels(co_long$freq )\n#> [1] \"none\"          \"more than 0\"   \"more than 10\"  \"more than 100\"\n\ncolours <- c(\"antiquewhite\", \"pink\",  \"salmon\", \"hotpink\")\n\n\nco_long %>%\n  ggplot(aes(x = category1, y = category2, fill = count)) +\n  geom_tile(color = \"white\") +\n  scale_fill_gradient(low = \"antiquewhite\", high = \"red\", na.value = NA) +\n  labs(title = \"Which API categories go together?\",\n       subtitle = \"scale fill gradient on continuous count\",\n       x = \"API category 1\", \n       y = \"API category 2\",\n       fill = \"Co-occurence \\nfrequency\") +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1), \n        plot.title.position = \"plot\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=3000}\n:::\n\n```{.r .cell-code}\n\n\nco_long %>%\n  ggplot(aes(x = category1, y = category2, fill = freq)) +\n  geom_tile(color = \"white\") +\n  scale_fill_manual(values = colours) +\n  labs(title = \"Which API categories go together?\",\n       subtitle = \"scale fill manual categorical frequency\",\n       x = \"API category 1\", \n       y = \"API category 2\",\n       fill = \"Co-occurence \\nfrequency\") +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1), \n        plot.title.position = \"plot\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-2.png){width=3000}\n:::\n:::\n\n\n\nTake home: media and analytics categories appear together the most (275 apis)\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}