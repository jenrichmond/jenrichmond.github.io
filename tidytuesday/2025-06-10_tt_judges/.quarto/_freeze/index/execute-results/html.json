{
  "hash": "10f3609a52381113b3f359e9abaaa821",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"history data R: judges\"\nsubtitle: \"tidy tuesday week 22\"\ndate: today\nformat: html\nauthor: Jen Richmond\nimage: featured.png\ncode-fold: true\n---\n\n# load packages\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidytuesdayR)\nlibrary(janitor)\nlibrary(ggeasy)\nlibrary(ggtext)\n\n# adjust year/week values here\nyear = 2025\nweek = 23\n```\n:::\n\n\n# get the data\n\n\n::: {.cell}\n\n```{.r .cell-code}\n\ntt <- tt_load(year, week)\n\nappt <- tt[[1]]\n\nappt <- appt  %>%\n  mutate(across(ends_with(\"_date\"), ~ mdy(.))) %>%\n  mutate(retirement_from_active_service =  mdy(retirement_from_active_service))\n\npeople <- tt[[2]]\n\npeople <- people %>%\n  mutate(age_at_death = death_date - birth_date)\n\n```\n:::\n\n\n\n# wrangling\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n\njoined <- left_join(people, appt, by = \"judge_id\") %>%\n  arrange(judge_id) %>%\n  mutate(year_confirmed = year(senate_confirmation_date), \n         year_retired = year(retirement_from_active_service), \n         year_terminated = year(termination_date))\n\nussc <- joined %>%\n  filter(court_type == \"USSC\") %>%\n  filter(!is.na(year_confirmed)) %>%\n  select(1:6, 26:31) %>%\n  mutate(length_of_term = year_terminated - year_confirmed) %>%\n  mutate(last_first = paste0(name_last, \", \" , name_first)) %>%\n  mutate(last_first = case_when(name_last == \"Harlan\" & birth_date == \"1833\" ~ \"I Harlan, John\", \n                                name_last == \"Harlan\" & birth_date == \"1899\" ~ \"II Harlan, John\", \n                                TRUE ~ last_first)) %>%\n  mutate(period = case_when(year_confirmed < 1900 ~ \"pre1900\", \n                             year_confirmed >= 1900 ~ \"post1900\", \n                            )) %>%\n  distinct(last_first, .keep_all = TRUE) %>%\n  mutate(endpoint = case_when(!is.na(year_terminated) ~ year_terminated, \n                              !is.na(year_retired) ~ year_retired,  \n                               TRUE ~ NA_real_))  %>%                \nmutate(status = case_when(!is.na(year_terminated) ~ \"Term end\",\n                            !is.na(year_retired) ~ \"Retired\", \n                       TRUE ~ \"Current\"))\n\nussc$last_first <- fct_reorder(ussc$last_first, ussc$year_confirmed) \n\nlevels(ussc$last_first)\n#>   [1] \"Blair, John\"          \"Cushing, William\"     \"Jay, John\"           \n#>   [4] \"Rutledge, John\"       \"Wilson, James\"        \"Iredell, James\"      \n#>   [7] \"Johnson, Thomas\"      \"Paterson, William\"    \"Chase, Samuel\"       \n#>  [10] \"Ellsworth, Oliver\"    \"Washington, Bushrod\"  \"Moore, Alfred\"       \n#>  [13] \"Marshall, John\"       \"Johnson, William\"     \"Livingston, Henry\"   \n#>  [16] \"Todd, Thomas\"         \"Duvall, Gabriel\"      \"Story, Joseph\"       \n#>  [19] \"Thompson, Smith\"      \"Trimble, Robert\"      \"McLean, John\"        \n#>  [22] \"Baldwin, Henry\"       \"Wayne, James\"         \"Barbour, Philip\"     \n#>  [25] \"Taney, Roger\"         \"Catron, John\"         \"McKinley, John\"      \n#>  [28] \"Daniel, Peter\"        \"Nelson, Samuel\"       \"Grier, Robert\"       \n#>  [31] \"Woodbury, Levi\"       \"Curtis, Benjamin\"     \"Campbell, John\"      \n#>  [34] \"Clifford, Nathan\"     \"Davis, David\"         \"Miller, Samuel\"      \n#>  [37] \"Swayne, Noah\"         \"Field, Stephen\"       \"Chase, Salmon\"       \n#>  [40] \"Bradley, Joseph\"      \"Strong, William\"      \"Hunt, Ward\"          \n#>  [43] \"Waite, Morrison\"      \"I Harlan, John\"       \"Woods, William\"      \n#>  [46] \"Gray, Horace\"         \"Matthews, Stanley\"    \"Blatchford, Samuel\"  \n#>  [49] \"Fuller, Melville\"     \"Lamar, Lucius\"        \"Brewer, David\"       \n#>  [52] \"Brown, Henry\"         \"Shiras, George\"       \"Jackson, Howell\"     \n#>  [55] \"White, Edward\"        \"Peckham, Rufus\"       \"McKenna, Joseph\"     \n#>  [58] \"Holmes, Oliver\"       \"Day, William\"         \"Moody, William\"      \n#>  [61] \"Lurton, Horace\"       \"Hughes, Charles\"      \"Lamar, Joseph\"       \n#>  [64] \"Van Devanter, Willis\" \"Pitney, Mahlon\"       \"McReynolds, James\"   \n#>  [67] \"Brandeis, Louis\"      \"Clarke, John\"         \"Taft, William\"       \n#>  [70] \"Butler, Pierce\"       \"Sutherland, George\"   \"Sanford, Edward\"     \n#>  [73] \"Stone, Harlan\"        \"Roberts, Owen\"        \"Cardozo, Benjamin\"   \n#>  [76] \"Black, Hugo\"          \"Reed, Stanley\"        \"Douglas, William\"    \n#>  [79] \"Frankfurter, Felix\"   \"Murphy, Frank\"        \"Byrnes, James\"       \n#>  [82] \"Jackson, Robert\"      \"Rutledge, Wiley\"      \"Burton, Harold\"      \n#>  [85] \"Vinson, Frederick\"    \"Clark, Tom\"           \"Minton, Sherman\"     \n#>  [88] \"Warren, Earl\"         \"II Harlan, John\"      \"Brennan, William\"    \n#>  [91] \"Whittaker, Charles\"   \"Stewart, Potter\"      \"Goldberg, Arthur\"    \n#>  [94] \"White, Byron\"         \"Fortas, Abe\"          \"Marshall, Thurgood\"  \n#>  [97] \"Burger, Warren\"       \"Blackmun, Harry\"      \"Powell, Lewis\"       \n#> [100] \"Rehnquist, William\"   \"Stevens, John\"        \"O`Connor, Sandra\"    \n#> [103] \"Scalia, Antonin\"      \"Kennedy, Anthony\"     \"Souter, David\"       \n#> [106] \"Thomas, Clarence\"     \"Ginsburg, Ruth\"       \"Breyer, Stephen\"     \n#> [109] \"Roberts, John\"        \"Alito, Samuel\"        \"Sotomayor, Sonia\"    \n#> [112] \"Kagan, Elena\"\n\nussc_plot <- ussc %>%\n  select(period, last_first, year_confirmed, year_retired, year_terminated, endpoint, status)\n\n```\n:::\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n\nussc_plot %>%\n  filter(period == \"post1900\") %>%\nggplot() +\n  geom_point(aes(x = last_first, y = year_confirmed), \n             colour = \"red\", size = 1.5) +\n  geom_point(aes(x = last_first, y = endpoint, colour = status), \n             size = 1.5, na.rm = TRUE) +\n  geom_segment(aes(x = last_first, \n                   xend= last_first, \n                   y = year_confirmed, yend = endpoint), \n               colour = \"grey\", na.rm = TRUE) +\n coord_flip() +\n   scale_y_continuous(limits = c(1900, 2020), breaks = seq(1900,2020,30)) +\n  theme_minimal() +\n  labs(y = \"Year\", x = \"Justice\", \n       title = \"Length of Supreme Court Justice Terms\", \n       subtitle = \"Since 1900 <span style='color:red'>● Confirmed</span> \n                    <span style='color:purple'>● Retired</span>\n                  <span style='color:blue'>● Term end</span>\") +\n    theme(plot.title.position = \"plot\", \n        plot.subtitle = element_markdown(),\n        panel.grid.major.y = element_line(size = 0.3, color = \"grey90\"),\n        panel.grid.minor.y = element_line(size = 0.1, color = \"grey95\"),\n        axis.text.y = element_text(size = 10),\n        axis.text.x = element_text(size = 10), \n          plot.title = element_text(size = 12)) +\n  scale_colour_manual(values = c(\"Term end\" = \"blue\", \n                                 \"Retired\" = \"purple\")) +\n  easy_remove_legend()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-1-1.png){width=1800}\n:::\n:::\n\n\n# adding new data for recent appointments\n\n::: {.cell}\n\n```{.r .cell-code}\nnames(ussc_plot)\n#> [1] \"period\"          \"last_first\"      \"year_confirmed\"  \"year_retired\"   \n#> [5] \"year_terminated\" \"endpoint\"        \"status\"\n\n# get just those appointed since 1980\n\nussc80 <- ussc_plot %>%\n  filter(year_confirmed > 1980) %>%\n  arrange(year_confirmed)\n\n# make new df with most recent 4 appointees\n\nnew_justice <- tibble(\n  period = c(\"post1900\", \"post1900\",\"post1900\",\"post1900\"),\n  last_first = c(\"Gorsuch, Neil\", \"Kavanaugh, Brett\", \"Coney Barrett, Amy\", \"Brown Jackson, Ketanji\"),\n  year_confirmed = c(2017, 2018, 2020, 2022),\n  year_retired = c(NA, NA, NA, NA), \n  year_terminated = c(NA, NA, NA, NA),\n  endpoint = c(NA, NA, NA, NA),\n  status = c(\"Current\", \"Current\",\"Current\",\"Current\")\n)\n\n# join since 1980 and new justices, correcting values for those no longer serving\n\nussc_recent <- rbind(ussc80, new_justice) %>%\n  mutate(\n    year_retired = replace(year_retired, last_first == \"Kennedy, Anthony\", 2018), \n    year_retired = replace(year_retired, last_first == \"Breyer, Stephen\", 2022), \n    year_terminated = replace(year_terminated, last_first == \"Scalia, Antonin\", 2016),\n    year_terminated = replace(year_terminated, last_first == \"Ginsburg, Ruth\", 2020)) %>%\n  mutate(endpoint = case_when(!is.na(year_terminated) ~ year_terminated, \n                              !is.na(year_retired) ~ year_retired,  \n                               TRUE ~ NA_real_))  %>%                \nmutate(status = case_when(!is.na(year_terminated) ~ \"Term end\",\n                            !is.na(year_retired) ~ \"Retired\", \n                       TRUE ~ \"Current\"))\n\n# bind updated ussc data with old df, keeping only distinct names.\n\nupdated_ussc <- rbind(ussc_recent, ussc_plot) %>%\n  distinct(last_first, .keep_all = TRUE) %>%\n  mutate(term_length = case_when(year_terminated - year_confirmed > 30 ~ \"long\", \n                                 year_terminated - year_confirmed <= 30 ~ \"short\", \n                                 ))\n\n```\n:::\n\n\n\n# plot\n\n::: {.cell}\n\n```{.r .cell-code}\nupdated_ussc %>%\n  filter(period == \"post1900\") %>%\nggplot() +\n  geom_point(aes(x = last_first, y = year_confirmed), \n             colour = \"red\", size = 1.5) +\n  geom_point(aes(x = last_first, y = endpoint, colour = status), \n             size = 1.5, na.rm = TRUE) +\n  geom_segment(aes(x = last_first, \n                   xend= last_first, \n                   y = year_confirmed, yend = endpoint), colour = \"grey\", \n               na.rm = TRUE) +\n coord_flip() +\n   scale_y_continuous(limits = c(1900, 2022), breaks = seq(1900,2020,30), \n                      sec.axis= dup_axis()) +\n  theme_minimal() +\n  labs(y = \"Year\", x = \"Justice\", \n       title = \"Length of Supreme Court Justice Terms\", \n       subtitle = \"Since 1900 <span style='color:red'>● Confirmed</span> \n                    <span style='color:purple'>● Retired</span>\n                  <span style='color:blue'>● Term end</span>\") +\n    theme(plot.title.position = \"plot\", \n        plot.subtitle = element_markdown(),\n        panel.grid.major.y = element_line(size = 0.3, color = \"grey90\"),\n        panel.grid.minor.y = element_line(size = 0.1, color = \"grey95\"),\n        axis.text.y = element_text(size = 10),\n        axis.text.x = element_text(size = 10), \n          plot.title = element_text(size = 12)) +\n  scale_colour_manual(values = c(\"Term end\" = \"blue\", \n                                 \"Retired\" = \"purple\")) +\n  easy_remove_legend() +\n  easy_remove_x_axis(what = c(\"title\"))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=1800}\n:::\n:::\n\n\n# save\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}